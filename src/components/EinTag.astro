---
import bgImage from '../assets/images/Terra-Rossa-Papier.png';
import CtaLink from './CtaLink.astro';
import data from '../content/retreats-page.json';

const sectionData = data.einTagSection;
---

<section
  id="tagesablauf"
  class="section bg-cover bg-center bg-no-repeat text-white relative"
  style={`background-image: url(${bgImage.src});`}
>
  <div class="section-inner relative">

    <div class="absolute top-8 right-8 hidden md:block opacity-80 pointer-events-none select-none">
      <img
        src={sectionData.decorativeImage.src}
        alt={sectionData.decorativeImage.alt}
        class="w-16 lg:w-20 xl:w-24 h-auto object-contain"
        loading="lazy"
        decoding="async"
      />
    </div>

    <div class="w-full text-left mb-10 md:mb-16">
      <p class="section-label mb-8">{sectionData.header.label}</p>
      <h2 style="font-family: 'EditorialOld', sans-serif; font-style: italic;" class="heading-main">
        {sectionData.header.heading}
      </h2>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 w-full">
      
      <div class="space-y-4 font-sans text-base leading-relaxed">
        {sectionData.scheduleLeft.map(item => (
          <div>
            {item.time && <h3 class="heading-sub italic mb-4">{item.time}</h3>}
            <p class="body-text whitespace-pre-line" set:html={item.description} />
          </div>
        ))}
      </div>

      <div class="flex justify-center items-center w-full max-w-[360px] mx-auto">
        <img
          src={sectionData.centerImage.src}
          alt={sectionData.centerImage.alt}
          class="w-full aspect-square object-cover"
          loading="lazy"
          decoding="async"
        />
      </div>

      <div class="space-y-4 font-sans text-base leading-relaxed">
        {sectionData.scheduleRight.map(item => (
          <div>
            {item.time && <h3 class="heading-sub italic mb-4">{item.time}</h3>}
            <p class="body-text whitespace-pre-line" set:html={item.description} />
          </div>
        ))}
      </div>
    </div>

    <div class="pt-16 flex justify-end">
      <CtaLink 
        color="white" 
        href={sectionData.cta.href} 
        label={sectionData.cta.label} 
      />
    </div>

  </div>
</section>