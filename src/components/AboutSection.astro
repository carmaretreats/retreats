---
import { Image } from 'astro:assets';

interface Props {
  subtitle?: string;
  title?: string;
  text: string;
  image: ImageMetadata;
  imageAlt?: string;
}

const {
  subtitle = "Mehr über uns",
  title = "Über uns",
  text,
  image,
  imageAlt = "Portrait",
} = Astro.props;
---

<section class="bg-cream-bg text-dark-brown py-16 px-6 font-sans">
  <div class="max-w-6xl mx-auto flex flex-col md:flex-row md:items-start gap-8">

    <!-- 📝 Texto -->
    <div class="w-full md:w-2/3 space-y-4 relative">
      {subtitle && (
        <p class="uppercase text-sm tracking-wide mb-2">
          {subtitle}
        </p>
      )}

      {title && (
        <h2 class="font-editorial italic text-3xl md:text-4xl mb-4">
          {title}
        </h2>
      )}

      <!-- 📸 Imagen flotante solo en mobile -->
      <div class="md:hidden float-right ml-4 mb-2 w-[120px] h-[120px] overflow-hidden rounded-2xl">
        <Image src={image} alt={imageAlt} class="w-full h-full object-cover" />
      </div>

      <div class="prose prose-lg max-w-none">
        {text.split('\n').map((paragraph) => (
          paragraph.trim() && <p>{paragraph}</p>
        ))}
      </div>
    </div>

    <!-- 🖼️ Imagen grande en desktop -->
    <div class="hidden md:flex w-full md:w-1/3 justify-end">
      <div class="max-w-sm overflow-hidden rounded-2xl">
        <Image src={image} alt={imageAlt} class="w-full h-auto object-cover" />
      </div>
    </div>

  </div>
</section>