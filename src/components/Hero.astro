---
// src/components/Hero.astro
import { Image } from 'astro:assets';
import Cta from './Cta.astro';
import spiral from '../assets/images/Markenzeichen-Weis.png'; // Spiral mark is still static

// Define expected props
interface Props {
  heading: string;
  subheading: string;
  left_image?: string; // Optional image path from CMS
  right_image?: string; // Optional image path from CMS
  cta_text?: string;
  cta_link?: string;
}

const {
  heading = "Ankommen und Aufatmen.", // Default values if not provided by CMS
  subheading = "Yoga retreats, die nachhaltig bewegen",
  left_image,
  right_image,
  cta_text = "Jetzt Buchen",
  cta_link = "/#kontakt"
} = Astro.props;
---
<section class="relative w-full bg-cream-bg pb-8 px-8">
  <div class="h-[75vh] overflow-hidden">
    <!-- Image for mobile (always visible) -->
    <div class="block md:hidden">
      {left_image ? (
        <Image src={left_image} alt={heading} class="w-full h-full object-cover" />
      ) : (
        <div class="w-full h-full bg-gray-200 flex items-center justify-center">No Mobile Image Set</div>
      )}
    </div>

    <!-- Images for tablet/desktop (hidden on mobile, uses grid on larger screens) -->
    <div class="hidden md:grid md:grid-cols-2 w-full h-full">
      <div>
        {left_image ? (
          <Image src={left_image} alt="Left hero image" class="w-full h-full object-cover" />
        ) : (
          <div class="w-full h-full bg-gray-200 flex items-center justify-center">No Left Image Set</div>
        )}
      </div>
      <div>
        {right_image ? (
          <Image src={right_image} alt="Right hero image" class="w-full h-full object-cover" />
        ) : (
          <div class="w-full h-full bg-gray-300 flex items-center justify-center">No Right Image Set</div>
        )}
      </div>
    </div>
  </div>

  <!-- Spiral mark -->
  <div class="absolute left-1/2 top-8 transform -translate-x-1/2 pointer-events-none">
    <Image src={spiral} alt="Markenzeichen" class="h-12 w-auto object-contain" />
  </div>

  <!-- Text + CTA -->
  <div class="relative flex items-end justify-center h-[75vh] mt-[-75vh]">
    <div class="text-center max-w-4xl px-6 pb-8 md:pb-12 lg:pb-16">
      <h1
        class="text-white text-4xl sm:text-5xl md:text-6xl lg:text-7xl leading-tight mb-2"
        style="font-family: var(--font-editorial);"
      >
        {heading}
      </h1>

      <p
        class="text-white/90 uppercase tracking-widest text-sm md:text-base mb-6"
        style="font-family: var(--font-sans);"
      >
        {subheading}
      </p>

      <div class="flex justify-center">
        <!-- Pass CTA text and link from props -->
        <Cta buttonText={cta_text} href={cta_link} />
      </div>
    </div>
  </div>
</section>