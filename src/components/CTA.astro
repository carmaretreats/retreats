---
const {
  href = '#kontakt',
  label = 'Jetzt Buchen',
  color = 'orange', // 'orange' | 'cream'
  border = false,   // true | false
  size = 'medium',  // 'small' | 'medium' | 'large'
  // ðŸ‘‰ permite pasar data-retreat opcional
  dataRetreat = null,
} = Astro.props;

const sizes = {
  small: 'px-4 py-2 text-[11px] md:px-6 md:py-2.5 md:text-sm lg:text-base',
  medium: 'px-6 py-3 text-[12px] md:px-10 md:py-4 md:text-base lg:text-lg', // default
  large: 'w-full md:w-auto text-base md:text-lg lg:text-xl px-10 py-4',
};

const colors = {
  orange: 'bg-[var(--color-accent-orange)] text-white hover:bg-[#bb421d] focus:ring-[var(--color-accent-orange)]',
  cream: 'bg-[var(--color-cream-bg)] text-[var(--color-dark-brown)] hover:bg-[#f3e9d8] focus:ring-[var(--color-cream-bg)]',
};

const borderClass = border
  ? 'border border-[var(--color-dark-brown)]'
  : 'border-none';

const base =
  'inline-block text-center rounded-full uppercase font-sora tracking-widest shadow-md transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-cream-bg';

const buttonClass = `${base} ${colors[color]} ${sizes[size]} ${borderClass}`;
---

<a
  href={href}
  data-retreat={dataRetreat}
  @click.prevent="
    const retreat = $el.getAttribute('data-retreat');
    if (retreat) {
      localStorage.setItem('selectedRetreat', retreat);
    }
    document.querySelector(href)?.scrollIntoView({ behavior: 'smooth' });
  "
  class={buttonClass}
>
  {label}
</a>