---
import Carousel from './Carousel.astro';
import RoomAccordion from './RoomAccordion.astro';
import Cta from './CTA.astro';

const {
  retreatId = '',
  layout = 'left',
  date = '',
  introParagraphs = '',
  priceContent = '',
  includedContent = '',
  locationContent = '',
  carouselImages = [],
  ctaLabel = 'Jetzt Buchen',
  ctaHref = '#kontakt',
} = Astro.props;

const carouselOrder = layout === 'left' ? 'md:order-1' : 'md:order-2';
const contentOrder = layout === 'left' ? 'md:order-2' : 'md:order-1';
---
<div id={retreatId} class="bg-cream-bg text-dark-brown font-sans w-full">
  <div class="flex flex-col md:flex-row gap-10 md:gap-16">
    
    <div class={`w-full md:w-1/2 ${carouselOrder}`}>
      <Carousel images={carouselImages} />
    </div>

    <div class={`w-full md:w-1/2 flex flex-col justify-between ${contentOrder}`}>
      {date && (
        <h2 style="font-family: 'EditorialOld', sans-serif; font-style: italic;" class="font-editorial text-3xl sm:text-3xl md:text-4xl lg:text-5xl leading-[1.2] mb-2 lg:mb-4 text-[var(--color-dark-brown)] text-left">{date}</h2>
      )}

      <div class="body-text text-dark-brown">
        <p class="whitespace-pre-line">{introParagraphs}</p>
      </div>

      <RoomAccordion
        priceContent={priceContent}
        includedContent={includedContent}
        locationContent={locationContent}
      />

      <div class="flex justify-center mb-4 xs:mb-6 md:mb-0 px-12 sm:px-6 lg:px-8 pt-6">
        <Cta label={ctaLabel} href={ctaHref} color="orange" size="large" />
      </div>
    </div>
  </div>
</div>